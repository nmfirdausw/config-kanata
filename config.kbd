(defvar
  left-hand-keys (
    w l y p b
    c r s t g
    q j v d k
  )
  right-hand-keys (
    z f o u ;
    m n e i a
    x h / , .
  )
)

(defalias
  sgr S-grv        ;; Tilde
  mc  C-up         ;; Mission Control
  sls M-spc        ;; Spotlight Search
  dtn S-C-A-M-f5   ;; Dictation
  dnd S-C-A-M-f6   ;; Do Not Disturb
  lp  S-C-A-M-l    ;; Launchpad
  qwr (layer-switch qwerty)  ;; Switch to QWERTY
  cnr (layer-switch canary)  ;; Switch to Canary
  sym (layer-while-held symbol) ;; Symbol layer
  num (layer-while-held number) ;; Number layer
  grl (tap-hold 200 200 grv (layer-while-held layers)) ;; Hold grave for layer switching
  lmet (tap-hold-press-timeout 200 9999 tab @sym tab) ;; Tab with Symbol layer
  rmet (tap-hold-press-timeout 200 9999 grv @num grv) ;; Grave with Number layer
  
  ;; Home row mods for Canary layout
  c_c (tap-hold-release-keys 200 200 c lctl $left-hand-keys)    ;; C with Control
  r_a (tap-hold-release-keys 200 200 r lalt $left-hand-keys)    ;; R with Alt
  s_s (tap-hold-release-keys 200 200 s lsft $left-hand-keys)    ;; S with Shift
  t_m (tap-hold-release-keys 200 200 t lmet $left-hand-keys)    ;; T with Meta
  n_m (tap-hold-release-keys 200 200 n rmet $right-hand-keys)   ;; N with Meta
  e_s (tap-hold-release-keys 200 200 e rsft $right-hand-keys)   ;; E with Shift
  i_a (tap-hold-release-keys 200 200 i ralt $right-hand-keys)   ;; I with Alt
  a_c (tap-hold-release-keys 200 200 a rctl $right-hand-keys)   ;; A with Control
  ctr (layer-while-held control) ;; Control layer
  spctl (tap-hold-press-timeout 200 9999 spc @ctr spc) ;; Space with Control layer
)

(defsrc
  esc  f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12
  grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps a    s    d    f    g    h    j    k    l    ;    '    ret
  lsft z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lalt lmet           spc            rmet ralt rctl
)

(deflayer qwerty
  esc  🔅   🔆   @mc  @sls @dtn @dnd ◀◀   ▶⏸   ▶▶   🔇   🔉   🔊
  @grl 1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  q    w    e    r    t    y    u    i    o    p    [    ]    \
  esc  a    s    d    f    g    h    j    k    l    ;    '    ret
  lsft z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lalt lmet           spc            rmet ralt rctl
)

(deflayer canary
  esc  🔅   🔆   @mc  @sls @dtn @dnd ◀◀   ▶⏸   ▶▶   🔇   🔉   🔊
  @grl 1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  w    l    y    p    b    z    f    o    u    '    [    ]    \
  esc  @c_c @r_a @s_s @t_m g    m    @n_m @e_s @i_a @a_c ;    ret
  q    j    v    d    k    _    x    h    /    ,    .    rsft
  lctl lalt @lmet          @spctl         @rmet ralt rctl
)

(deflayer layers
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    @qwr @cnr _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _              _              _    _    _
)

(deflayer control
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _    _
  _    esc  esc  _    _    _    _    _    del  bspc bspc _    _    _
  _    tab  tab  _    _    _    lft  down up   rght ret  _    _
  _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _              _              _    _    _
)

(deflayer symbol
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _    _
  _    S-'  S-9  S-0  S-6  S-\  S-7  S-4  S-[  S-]  S-;  _    _    _
  _    S-4  S-,  S-.  -    S-8  /    S--  [    ]    ;    _    _
  grv @sgr  S-2  S-1  S-=  _    S-5  =    \    S-2  S-3  _
  _    _    _              _              _    _    _
)

(deflayer number
  _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _    _
  _    1    2    3    4    5    6    7    8    9    0    _    _
  _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _              _              _    _    _
)
